library(tidyverse)
d <- read.csv('../../data/exp1_long_data.csv')
thinnest_lines <- read.csv('../../data/thinnest_lines.csv')
source('../compute_accuracy_columns.r')
d <- compute_accuracy_columns(d, thinnest_lines)
N <- length(unique(d$participant))
head(d)
head(thinnest_lines)
head(d)
#click_summary <-
d %>%
group_by(subject, trial_count) %>%
summarize(count = n()) %>%
filter(count == 4) %>%
head()
colnames(d)[which(colnames(d) == 'participant')] <- 'subject'
#click_summary <-
d %>%
group_by(subject, trial_count) %>%
summarize(count = n()) %>%
filter(count == 4) %>%
head()
#click_summary <-
d %>%
group_by(subject, trial_count) %>%
summarize(count = n()) %>%
min(count)
#click_summary <-
d %>%
group_by(subject, trial_count) %>%
summarize(count = n()) %>%
head()
click_summary <- d %>%
group_by(subject, trial_count) %>%
summarize(count = n()) %>%
filter(count == 4) %>%
select(-count) %>%
mutate(key = 'keep')
nrow(click_summary)
nrow(d)
2397*4
N
d %>%
inner_join(click_summary) %>%
head()
d %>%
inner_join(click_summary) %>%
filter(key == 'keep') %>%
nrow()
head(d)
click_summary <- d %>%
group_by(subject, trial_count) %>%
summarize(count = n()) %>%
filter(count == 4) %>%
select(-count) %>%
mutate(key = 'keep')
d <- d %>%
inner_join(click_summary) %>%
filter(key == 'keep', is.na(accuracy)) %>%
select(-key)
d$selection_rt_ms_relative <- ifelse(shift(click_order) < click_order, selection_rt_ms - shift(selection_rt_ms))
library(data.table)
d$selection_rt_ms_relative <- ifelse(shift(click_order) < click_order, selection_rt_ms - shift(selection_rt_ms))
d$selection_rt_ms_relative <- ifelse(shift(d$click_order) < d$click_order, d$selection_rt_ms - shift(d$selection_rt_ms))
d$selection_rt_ms_relative <- ifelse(shift(d$click_order) < d$click_order, d$selection_rt_ms - shift(d$selection_rt_ms), d$selection_rt_ms)
head(d)
sum(is.na(d$selection_rt_ms_relative))
d$selection_rt_ms_relative[1] <- d$selection_rt_ms[1]
head(d)
head(d[,c('click_order','selection_rt_ms', 'selection_rt_ms_relative')])
2982-1847
library(ggridges)
d$selection_rt_ms_relative <- ifelse(shift(d$click_order) < d$click_order, d$selection_rt_ms - shift(d$selection_rt_ms), d$selection_rt_ms)
d$selection_rt_ms_relative[1] <- d$selection_rt_ms[1]
d$accuracy_numeric <- ifelse(d$accuracy_type == 'hit', 1, 0)
d %>%
group_by(subject, click_order) %>%
summarize(rt = mean(selection_rt_ms_relative), accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, rt:accuracy) %>%
ggplot(aes(x = value, y = click_order)) +
geom_density_ridges() +
facet_wrap(~outcome)
d %>%
group_by(subject, click_order) %>%
summarize(rt = mean(selection_rt_ms_relative), accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, rt:accuracy) %>%
ggplot(aes(x = value, y = click_order)) +
geom_density_ridges(aes(y = click_order)) +
facet_wrap(~outcome)
d %>%
group_by(subject, click_order) %>%
summarize(rt = mean(selection_rt_ms_relative), accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, rt:accuracy) %>%
ggplot(aes(x = click_order, y = value)) +
geom_density_ridges() +
coord_flip() +
facet_wrap(~outcome)
d %>%
group_by(subject, click_order) %>%
summarize(rt = mean(selection_rt_ms_relative), accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, rt:accuracy) %>%
ggplot(aes(x = click_order, y = value, group = click_order)) +
geom_density_ridges() +
coord_flip() +
facet_wrap(~outcome)
d %>%
group_by(subject, click_order) %>%
summarize(rt = mean(selection_rt_ms_relative), accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, rt:accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges() +
coord_flip() +
facet_wrap(~outcome)
d %>%
group_by(subject, click_order) %>%
summarize(rt = mean(selection_rt_ms_relative), accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, rt:accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges() +
coord_flip() +
facet_wrap(~outcome, scales = 'free')
d %>%
group_by(subject, click_order) %>%
summarize(rt = mean(selection_rt_ms_relative), accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, rt:accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges() +
facet_wrap(~outcome, scales = 'free')
d %>%
group_by(subject, click_order) %>%
summarize(RT = mean(selection_rt_ms_relative), Accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, rt:accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges() +
facet_wrap(~outcome, scales = 'free') +
labs(
x = '',
y = 'Click Order'
) +
theme_bw() +
theme(strip.background = element_rect(color = 'black', fill = 'white'))
d %>%
group_by(subject, click_order) %>%
summarize(RT = mean(selection_rt_ms_relative), Accuracy = mean(accuracy_numeric)) %>%
gather(outcome, value, RT:Accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges() +
facet_wrap(~outcome, scales = 'free') +
labs(
x = '',
y = 'Click Order'
) +
theme_bw() +
theme(strip.background = element_rect(color = 'black', fill = 'white'))
library(ez)
d$selection_rt_ms_relative <- ifelse(shift(d$click_order) < d$click_order, d$selection_rt_ms - shift(d$selection_rt_ms), d$selection_rt_ms)
d$selection_rt_ms_relative[1] <- d$selection_rt_ms[1]
d$accuracy_numeric <- ifelse(d$accuracy_type == 'hit', 1, 0)
subject_summary <- d %>%
group_by(subject, click_order) %>%
summarize(RT = mean(selection_rt_ms_relative), Accuracy = mean(accuracy_numeric))
subject_summary %>%
gather(outcome, value, RT:Accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges() +
facet_wrap(~outcome, scales = 'free') +
labs(
x = '',
y = 'Click Order'
) +
theme_bw() +
theme(strip.background = element_rect(color = 'black', fill = 'white'))
acc <- ezANOVA(wid = subject, within = click_order, dv = accuracy_numeric, data = subject_summary)
acc <- ezANOVA(wid = subject, within = click_order, dv = accuracy, data = subject_summary)
acc <- ezANOVA(wid = subject, within = click_order, dv = Accuracy, data = subject_summary)
acc <- ezANOVA(wid = subject, within = click_order, dv = Accuracy, data = subject_summary)
acc
acc <- ezANOVA(wid = subject, within = click_order, dv = Accuracy, data = subject_summary)
rt <- ezANOVA(wid = subject, within = click_order, dv = RT, data = subject_summary)
acc
rt
head(d)
head(line_data)
source('../compute_quadrants.r')
source('../compute_quadrants.r')
line_data <- read.csv('../../data/exp1_line_data.csv')
d <- compute_quadrants(d, line_data)
source('../compute_quadrants.r')
line_data <- read.csv('../../data/exp1_line_data.csv')
d <- compute_quadrants(d, line_data)
head(d)
head(d)
source('../compute_quadrants.r')
line_data <- read.csv('../../data/exp1_line_data.csv')
d <- compute_quadrants(d, line_data)
head(d)
head(d)
d %>%
group_by(subject, quadrant, count_order) %>%
summarize(count = n()) %>%
group_by(quadrant, count_order) %>%
summarize(average_sum = mean(count)) %>%
head()
d %>%
group_by(subject, quadrant, click_order) %>%
summarize(count = n()) %>%
group_by(quadrant, click_order) %>%
summarize(average_sum = mean(count)) %>%
head()
d %>%
group_by(subject, quadrant, click_order) %>%
summarize(count = n()) %>%
group_by(quadrant, click_order) %>%
summarize(average_sum = mean(count)) %>%
ggplot(aes(x = quadrant, y = average_sum, group = click_order)) +
geom_bar(stat = 'identity', aes(fill = click_order))
d %>%
group_by(subject, quadrant, click_order) %>%
summarize(count = n()) %>%
group_by(quadrant, click_order) %>%
summarize(average_sum = mean(count)) %>%
ggplot(aes(x = quadrant, y = average_sum, group = click_order)) +
geom_bar(stat = 'identity', aes(fill = factor(click_order)))
d %>%
group_by(subject, quadrant, click_order) %>%
summarize(count = n()) %>%
group_by(quadrant, click_order) %>%
summarize(average_sum = mean(count)) %>%
ggplot(aes(x = quadrant, y = average_sum, group = click_order)) +
geom_bar(stat = 'identity', aes(fill = factor(click_order))) +
scale_fill_brewer()
d %>%
group_by(subject, quadrant, click_order) %>%
summarize(count = n()) %>%
group_by(quadrant, click_order) %>%
summarize(average_sum = mean(count)) %>%
ggplot(aes(x = quadrant, y = average_sum, group = click_order)) +
geom_bar(stat = 'identity', aes(fill = factor(click_order)), color = 'black') +
scale_fill_brewer()
d %>%
group_by(subject, quadrant, click_order) %>%
summarize(count = n()) %>%
group_by(quadrant, click_order) %>%
summarize(average_sum = mean(count)) %>%
ggplot(aes(x = quadrant, y = average_sum, group = click_order)) +
geom_bar(stat = 'identity', aes(fill = factor(click_order)), color = 'black') +
scale_fill_brewer() +
theme_bw() +
labs(
x = 'Area on Grid',
y = 'Average Proportion',
fill = 'Click Order'
)
subject_summary %>%
gather(outcome, value, RT:Accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges() +
facet_wrap(~outcome, scales = 'free') +
labs(
x = '',
y = 'Click Order'
) +
scale_fill_brewer()
subject_summary %>%
gather(outcome, value, RT:Accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges() +
facet_wrap(~outcome, scales = 'free') +
labs(
x = '',
y = 'Click Order'
) +
scale_fill_brewer() +
theme_bw() +
theme(strip.background = element_rect(color = 'black', fill = 'white'))
subject_summary %>%
gather(outcome, value, RT:Accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges(fill = 'steel blue') +
facet_wrap(~outcome, scales = 'free') +
labs(
x = '',
y = 'Click Order'
) +
theme_bw() +
theme(strip.background = element_rect(color = 'black', fill = 'white'))
subject_summary %>%
gather(outcome, value, RT:Accuracy) %>%
ggplot(aes(x = value, y = click_order, group = click_order)) +
geom_density_ridges(fill = 'steel blue', alpha = .8) +
facet_wrap(~outcome, scales = 'free') +
labs(
x = '',
y = 'Click Order'
) +
theme_bw() +
theme(strip.background = element_rect(color = 'black', fill = 'white'))
q()
